<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap link -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Edit</title>
</head>
<body>
    <!-- HEADER -->
    <nav class="navbar navbar-dark bg-dark">
        <div class="container-fluid">
          <a class="navbar-brand">Crudazon</a>
          <div class="d-flex">
            <p><a class="text-light" href="./index.html">Back Home</a></p>
          </div>
        </div>
      </nav>
    <!-- HEADER -->

    <!-- MAIN -->
    <div class="container-fluid d-flex justify-content-center mt-5">
        <div class="row">
            <h3 class="text-dark">Edit Product</h3>
        
            <div class="col d-flex justify-content-center align-items-center">
                <form class="border border-grey p-5" style="width: 100%">
                        <div class="mb-3">
                        <label for="text" class="form-label">Name:</label>
                        <input type="text" class="form-control" id="nameProduct" placeholder="Write here...">
                        </div>
                        <div class="mb-3">
                            <label for="text" class="form-label">Description:</label>
                            <input type="text" class="form-control" id="nameProduct" placeholder="Write here...">
                        </div>
                        <div class="mb-3">
                            <label for="text" class="form-label">Brand:</label>
                            <input type="text" class="form-control" id="nameProduct" placeholder="Write here...">
                        </div>
                        <div class="mb-3">
                            <label for="text" class="form-label">Image URL:</label>
                            <input type="text" class="form-control" id="nameProduct" placeholder="Write here...">
                        </div>
                        <div class="mb-3">
                            <label for="text" class="form-label">Price:</label>
                            <input type="text" class="form-control" id="nameProduct" placeholder="Write here...">
                        </div>
                        
                        <button type="submit" class="btn btn-warning text-dark px-4">Save</button>
                        <button type="submit" class="btn border-secondary px-4">Reset</button>
                    </form>
            </div>
            
        </div>
    </div>
    
      <!-- MAIN -->

    

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
    const form = document.getElementById('productForm');

    form.addEventListener('submit', function (event) {
        event.preventDefault();

        const formData = new FormData(form);


        const payload = {
            name: formData.get('name'),
            price: formData.get('price'),
            description: formData.get('description'),

        };

        // Effettua la richiesta POST
        fetch('https://striveschool-api.herokuapp.com/api/product', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': 'Bearer ' + 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NTc4Mjk3YWMwNTgzNTAwMTg1MjJkMGMiLCJpYXQiOjE3MDIzNzM3NTUsImV4cCI6MTcwMzU4MzM1NX0.dD-W5LON02eM3JlhOSkL2WOuQV1UqtqAEbcf2wMJuqs',
            },
            body: JSON.stringify(payload),
        })
        .then(response => {
            if (!response.ok) {
                throw new Error('Errore durante la richiesta POST');
            }
            return response.json();
        })
        .then(data => {
            console.log('Nuova risorsa creata:', data);
            // Puoi aggiungere ulteriori azioni qui in base alla tua logica
        })
        .catch(error => {
            console.error('Errore durante la richiesta POST:', error);
            // Gestisci l'errore in base alle tue esigenze
        });
    });
});
    </script>
</body>
</html>